<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>é€é¥æ—¶é—´çš„ç½‘ç«™</title>
    <meta name="description" content="jdk8æ–°ç‰¹æ€§">
    <meta name="keywords" content="java8,jdk8,æ–°ç‰¹æ€§">
</head>
<body>
<hr/>

<h1>jdk8 æ–°ç‰¹æ€§</h1>

<h2>ğŸ“ ç›®å½•</h2>

<ul>
    <li><a href="#about">å¼•è¨€</a></li>
    <li><a href="#lambda">lambdaè¡¨è¾¾å¼(é‡ç£…)</a></li>
    <li><a href="#function">å‡½æ•°å¼æ¥å£</a></li>
    <li><a href="#stream">stream</a></li>
    <li><a href="#Date-Time">Date-Time</a></li>
</ul>

<h2>ğŸ§ å¼•è¨€ <a name='about'></a></h2>

<p>æœ€è¿‘åœ¨å…¬å¸æ¥è§¦çš„é¡¹ç›®éƒ½æ˜¯åŸºäºjdk8çš„
    æ‰€ä»¥å†æ¸©ä¹ ä¸‹jdk8çš„ä¸€äº›å¸¸ç”¨ç‰¹æ€§</p>

<h2>ğŸš— lambdaè¡¨è¾¾å¼(é‡ç£…) <a name='lambda'></a></h2>

<h3>Lambdaè¡¨è¾¾å¼æ˜¯ä»€ä¹ˆ?</h3>

<p>Lambdaæ˜¯ä¸€ä¸ª <b> åŒ¿åå‡½æ•°</b>ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠLambdaè¡¨è¾¾å¼ç†è§£ä¸ºä¸€æ®µå¯ä»¥ä¼ é€’çš„ä»£ç ï¼ˆå°†ä»£ç åƒæ•°æ®ä¸€æ ·ä¼ é€’ï¼‰ã€‚å¯ä»¥å†™å‡ºæ›´ç®€æ´ã€æ›´çµæ´»çš„ä»£ç ã€‚ä½œä¸ºä¸€ç§æ›´ç´§å‡‘çš„ä»£ç é£æ ¼ï¼Œä½¿Javaçš„è¯­è¨€è¡¨è¾¾èƒ½åŠ›å¾—åˆ°äº†æå‡ã€‚</p>

<h3>Lambdaè¡¨è¾¾å¼çš„åŸºç¡€è¯­æ³•</h3>

<p>Java8ä¸­å¼•å…¥äº†ä¸€ä¸ªæ–°çš„æ“ä½œç¬¦â€œ->â€ï¼Œè¯¥æ“ä½œç¬¦ç§°ä¸ºç®­å¤´æ“ä½œç¬¦æˆ–è€…Lambdaæ“ä½œç¬¦ï¼Œè¯¥æ“ä½œç¬¦å°†Lambdaè¡¨è¾¾å¼æ‹†åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†ï¼š</p>

<p>å·¦ä¾§ï¼šLambdaè¡¨è¾¾å¼çš„å‚æ•°åˆ—è¡¨ã€‚
    å³ä¾§ï¼šLambdaè¡¨è¾¾å¼ä¸­éœ€è¦æ‰§è¡Œçš„åŠŸèƒ½ï¼Œå³Lambdaä½“ã€‚</p>

<p>è¯­æ³•æ ¼å¼ä¸€ï¼šæ— å‚æ•°ï¼Œæ— è¿”å›å€¼</p>

<p><code>java
    () -&gt; System.out.println("hello Lambda");
</code></p>

<p>è¯­æ³•æ ¼å¼äºŒï¼šæœ‰ä¸€ä¸ªå‚æ•°ï¼Œå¹¶ä¸”æ— è¿”å›å€¼</p>

<p><code>java
    (x) -&gt; System.out.println(x);
</code></p>

<p>è¯­æ³•æ ¼å¼ä¸‰ï¼šè‹¥åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œå°æ‹¬å·å¯ä»¥çœç•¥ä¸å†™</p>

<p><code>java
    x -&gt; System.out.println(x);
</code></p>

<p>è¯­æ³•æ ¼å¼å››ï¼šæœ‰ä¸¤ä¸ªä»¥ä¸Šçš„å‚æ•°ï¼Œæœ‰è¿”å›å€¼ï¼Œå¹¶ä¸”Lambdaä½“ä¸­æœ‰å¤šæ¡è¯­å¥</p>

<p><code>java
    Comparator&lt;Integer&gt; com = (x,y) -&gt; {
    System.out.println("å‡½æ•°å¼æ¥å£");
    return Integer.compare(x,y);
    };
</code></p>

<p>è¯­æ³•æ ¼å¼äº”ï¼šè‹¥Lambdaä½“ä¸­åªæœ‰ä¸€æ¡è¯­å¥ï¼Œreturnå’Œå¤§æ‹¬å·éƒ½å¯ä»¥çœç•¥ä¸å†™</p>

<p><code>java
    Comparator&lt;Integer&gt; com = (x,y) -&gt; Integer.compare(x,y);
</code></p>

<p>è¯­æ³•æ ¼å¼å…­ï¼šLambdaè¡¨è¾¾å¼çš„å‚æ•°åˆ—è¡¨çš„æ•°æ®ç±»å‹å¯ä»¥çœç•¥ä¸å†™ï¼Œå› ä¸ºJVMç¼–è¯‘å™¨é€šè¿‡ä¸Šä¸‹æ–‡æ¨æ–­å‡ºæ•°æ®ç±»å‹</p>

<p><code>java
    (Integer x,Integer y) -&gt; x+y;
</code></p>

<h2>ğŸ‘·â€â™‚ï¸ å‡½æ•°å¼æ¥å£,ä¸Lambdaè¡¨è¾¾å¼è”åˆä½¿ç”¨ <a name='function'></a></h2>

<h3>Java8å†…ç½®å››å¤§æ ¸å¿ƒå‡½æ•°å¼æ¥å£</h3>

<p><img src="https://www.showdoc.cc/server/api/common/visitfile/sign/8b91542fb3ceb0fa7e8819d30f8b9b54?showdoc=.jpg"
        alt="Java8å†…ç½®å››å¤§æ ¸å¿ƒå‡½æ•°å¼æ¥å£" title=""/></p>

<h4>Consumerï¼šæ¶ˆè´¹å‹æ¥å£</h4>

<p>```java
    /*
    * æ¶ˆè´¹å¼æ¥å£ï¼šä¼ ä¸€ä¸ªå‚æ•°ï¼Œæ²¡æœ‰è¿”å›å€¼
    * Consumer
    <T> void accept(T t);
        */
        @Test
        public void test1() {
        say("å¥½å¥½å­¦ä¹ ï¼Œå¤©å¤©å‘ä¸Šï¼",
        x -> System.out.println(x+new Date()));
        }
</p>

<pre><code>public void say(String str, Consumer&lt;String&gt; c) {
    c.accept(str);
}
</code></pre>

<p>```</p>

<h4>Supplierï¼šä¾›ç»™å‹æ¥å£</h4>

<p>```java
    /*
    * ä¾›ç»™å¼æ¥å£ï¼šæ²¡æœ‰å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªç»“æœ
    * Supplier
    <T> T get();
        */
        @Test
        public void test2() {
        List
        <Integer> listResult = getNumberArr(() -> {
            List
            <Integer> list = new ArrayList&lt;>();
                for(int i=0; i&lt;10; i++) {
                list.add(new Random().nextInt());
                }
                return list;
                });
</p>

<pre><code>    for (Integer integer : listResult) {
        System.out.println("DATA:"+integer);
    }
}

public List&lt;Integer&gt; getNumberArr(Supplier&lt;List&lt;Integer&gt;&gt; s){
    return s.get();
}
</code></pre>

<p>```</p>

<h4>Function
    <T
    , R>ï¼šå‡½æ•°å‹æ¥å£
</h4>

<p>```java
    /*
    * å‡½æ•°å¼æ¥å£ï¼šä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªç»“æœ
    * Function
    <T
    ,R> R apply(T t);
    */
    @Test
    public void test3() {
    System.out.println(apply("GWZ:", (x) -> x+new Date()));
    }
</p>

<pre><code>public String apply(String a, Function&lt;String, String&gt; f) {
    return f.apply(a);
};
</code></pre>

<p>```</p>

<h4>Predicateï¼šæ–­è¨€å‹æ¥å£</h4>

<p>```java
    /*
    * æ–­è¨€å‹æ¥å£ï¼šä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼
    * Predicate
    <T> boolean test(T t);
        */
        @Test
        public void test4() {
        System.out.println(test(40, x -> x>0));
        }
</p>

<pre><code>public String test(int x, Predicate&lt;Integer&gt; p) {
    if(p.test(x)) {
        return "å¤§äº0";
    }else {
        return "å°äº0";
    }
}
</code></pre>

<p>```</p>

<h3>å…¶å®ƒå­æ¥å£å¦‚ä¸‹å›¾</h3>

<p><img src="https://www.showdoc.cc/server/api/common/visitfile/sign/db4327450dd8fb1093885df8b4ed6be9?showdoc=.jpg"
        alt="" title=""/></p>

<h2>ğŸ‘¦ Stream API <a name='stream'></a></h2>

<h3>ä»€ä¹ˆæ˜¯Stream?</h3>

<p>æµï¼ˆStreamï¼‰åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</p>

<p>æµï¼Œæ˜¯æ•°æ®æ¸ é“ï¼Œç”¨äºæ“ä½œæ•°æ®æºï¼ˆé›†åˆã€æ•°ç»„ç­‰ï¼‰æ‰€ç”Ÿæˆçš„å…ƒç´ åºåˆ—ã€‚<b>é›†åˆè®²çš„æ˜¯æ•°æ®ï¼Œè€Œæµè®²çš„æ˜¯è®¡ç®—!</b></p>

<p>æ³¨æ„:</p>

<ol>
    <li>Streamè‡ªå·±ä¸ä¼šå­˜å‚¨å…ƒç´ ã€‚</li>
    <li>Streamä¸ä¼šæ”¹å˜æºå¯¹è±¡ï¼Œç›¸åä»–ä»¬ä¼šè¿”å›ä¸€ä¸ªæŒæœ‰ç»“æœçš„æ–°Streamã€‚</li>
    <li>Streamæ˜¯å»¶è¿Ÿæ‰§è¡Œçš„ï¼Œè¿™æ„å‘³ç€å®ƒä»¬ä¼šç­‰åˆ°éœ€è¦ç»“æœçš„æ—¶å€™æ‰ä¼šæ‰§è¡Œã€‚</li>
</ol>

<h3>Streamçš„æ“ä½œä¸‰ä¸ªæ­¥éª¤</h3>

<p><img src="https://www.showdoc.cc/server/api/common/visitfile/sign/0be73b6c0a4c30b332cd7c1da1b913d1?showdoc=.jpg"
        alt="" title=""/></p>

<p>```java
    /*
    * åˆ›å»ºStreamçš„å‡ ç§æ–¹å¼
    */
    public class TestStreamAPI1 {</p>

<pre><code>@Test
public void test1() {
    //1.å¯ä»¥é€šè¿‡Collectionç³»åˆ—é›†åˆæä¾›çš„stream()æˆ–parallelStream()
    List&lt;String&gt; list = new ArrayList&lt;&gt;();
    Stream&lt;String&gt; stream = list.stream();

    //2.é€šè¿‡Arraysä¸­çš„é™æ€æ–¹æ³•stream()è·å–æ•°ç»„æµ
    Employee[] employees = new Employee[10];
    Stream&lt;Employee&gt; stream2 = Arrays.stream(employees);

    //3.é€šè¿‡Streamç±»ä¸­çš„é™æ€æ–¹æ³•of()
    Stream&lt;String&gt; stream3 = Stream.of("AA","BB","CC","DD");

    //4.é€šè¿‡è¿­ä»£çš„æ–¹å¼åˆ›å»ºæ— é™æµ
    Stream&lt;Integer&gt; stream4 = Stream.iterate(0, x -&gt; x+2);
    stream4.limit(5).forEach(System.out::println);

    //5.é€šè¿‡ç”Ÿæˆçš„æ–¹å¼åˆ›å»ºæ— é™æµ
    Stream&lt;Double&gt; stream5 = Stream.generate(() -&gt; Math.random());
}
</code></pre>

<p>}
    ```</p>

<h3>streamå¸¸ç”¨çš„å‡ ä¸ªæ–¹æ³•</h3>

<h4>forEach</h4>

<p>Stream æä¾›äº†æ–°çš„æ–¹æ³• 'forEach' æ¥è¿­ä»£æµä¸­çš„æ¯ä¸ªæ•°æ®ã€‚ä»¥ä¸‹ä»£ç ç‰‡æ®µä½¿ç”¨ forEach è¾“å‡ºäº†10ä¸ªéšæœºæ•°ï¼š</p>

<p><code>java
    Random random = new Random();
    random.ints().limit(10).forEach(System.out::println);
</code></p>

<h4>map</h4>

<p>map æ–¹æ³•ç”¨äºæ˜ å°„æ¯ä¸ªå…ƒç´ åˆ°å¯¹åº”çš„ç»“æœï¼Œä»¥ä¸‹ä»£ç ç‰‡æ®µä½¿ç”¨ map è¾“å‡ºäº†å…ƒç´ å¯¹åº”çš„å¹³æ–¹æ•°ï¼š</p>

<p><code>java
    List&lt;Integer&gt; numbers = Arrays.asList(3, 2, 2, 3, 7, 3, 5);
    // è·å–å¯¹åº”çš„å¹³æ–¹æ•°
    List&lt;Integer&gt; squaresList = numbers.stream().map( i -&gt; i*i).distinct().collect(Collectors.toList());
</code></p>

<h4>filter</h4>

<p>filter æ–¹æ³•ç”¨äºé€šè¿‡è®¾ç½®çš„æ¡ä»¶è¿‡æ»¤å‡ºå…ƒç´ ã€‚ä»¥ä¸‹ä»£ç ç‰‡æ®µä½¿ç”¨ filter æ–¹æ³•è¿‡æ»¤å‡ºç©ºå­—ç¬¦ä¸²ï¼š</p>

<p><code>java
    List&lt;String&gt;strings = Arrays.asList("abc", "", "bc", "efg", "abcd","", "jkl");
    // è·å–ç©ºå­—ç¬¦ä¸²çš„æ•°é‡
    int count = strings.stream().filter(string -&gt; string.isEmpty()).count();
</code></p>

<h4>limit</h4>

<p>limit æ–¹æ³•ç”¨äºè·å–æŒ‡å®šæ•°é‡çš„æµã€‚ ä»¥ä¸‹ä»£ç ç‰‡æ®µä½¿ç”¨ limit æ–¹æ³•æ‰“å°å‡º 10 æ¡æ•°æ®ï¼š</p>

<p><code>java
    Random random = new Random();
    random.ints().limit(10).forEach(System.out::println);
</code></p>

<h4>sorted</h4>

<p>sorted æ–¹æ³•ç”¨äºå¯¹æµè¿›è¡Œæ’åºã€‚ä»¥ä¸‹ä»£ç ç‰‡æ®µä½¿ç”¨ sorted æ–¹æ³•å¯¹è¾“å‡ºçš„ 10 ä¸ªéšæœºæ•°è¿›è¡Œæ’åºï¼š</p>

<p><code>java
    Random random = new Random();
    random.ints().limit(10).sorted().forEach(System.out::println);
</code></p>

<h4>å¹¶è¡Œï¼ˆparallelï¼‰ç¨‹åº</h4>

<p>parallelStream æ˜¯æµå¹¶è¡Œå¤„ç†ç¨‹åºçš„ä»£æ›¿æ–¹æ³•ã€‚ä»¥ä¸‹å®ä¾‹æˆ‘ä»¬ä½¿ç”¨ parallelStream æ¥è¾“å‡ºç©ºå­—ç¬¦ä¸²çš„æ•°é‡ï¼š</p>

<p><code>java
    List&lt;String&gt; strings = Arrays.asList("abc", "", "bc", "efg", "abcd","", "jkl");
    // è·å–ç©ºå­—ç¬¦ä¸²çš„æ•°é‡
    int count = strings.parallelStream().filter(string -&gt; string.isEmpty()).count();
</code></p>

<h4>Collectors</h4>

<p>Collectors ç±»å®ç°äº†å¾ˆå¤šå½’çº¦æ“ä½œï¼Œä¾‹å¦‚å°†æµè½¬æ¢æˆé›†åˆå’Œèšåˆå…ƒç´ ã€‚Collectors å¯ç”¨äºè¿”å›åˆ—è¡¨æˆ–å­—ç¬¦ä¸²ï¼š</p>

<p>```java
    List
    <String>strings = Arrays.asList("abc", "", "bc", "efg", "abcd","", "jkl");
        List
        <String> filtered = strings.stream().filter(string -> !string.isEmpty()).collect(Collectors.toList());
</p>

<p>System.out.println("ç­›é€‰åˆ—è¡¨: " + filtered);
    String mergedString = strings.stream().filter(string -> !string.isEmpty()).collect(Collectors.joining(", "));
    System.out.println("åˆå¹¶å­—ç¬¦ä¸²: " + mergedString);
    ```</p>

<h4>ç»Ÿè®¡</h4>

<p>å¦å¤–ï¼Œä¸€äº›äº§ç”Ÿç»Ÿè®¡ç»“æœçš„æ”¶é›†å™¨ä¹Ÿéå¸¸æœ‰ç”¨ã€‚å®ƒä»¬ä¸»è¦ç”¨äºintã€doubleã€longç­‰åŸºæœ¬ç±»å‹ä¸Šï¼Œå®ƒä»¬å¯ä»¥ç”¨æ¥äº§ç”Ÿç±»ä¼¼å¦‚ä¸‹çš„ç»Ÿè®¡ç»“æœã€‚</p>

<p><code>java
    List&lt;Integer&gt; numbers = Arrays.asList(3, 2, 2, 3, 7, 3, 5);
    IntSummaryStatistics stats = numbers.stream().mapToInt((x) -&gt; x).summaryStatistics();
    System.out.println("åˆ—è¡¨ä¸­æœ€å¤§çš„æ•° : " + stats.getMax());
    System.out.println("åˆ—è¡¨ä¸­æœ€å°çš„æ•° : " + stats.getMin());
    System.out.println("æ‰€æœ‰æ•°ä¹‹å’Œ : " + stats.getSum());
    System.out.println("å¹³å‡æ•° : " + stats.getAverage());
</code></p>

<h2>â° æ–°çš„æ—¥æœŸAPI <a name='Date-Time'></a></h2>

<p>Java 8é€šè¿‡å‘å¸ƒæ–°çš„Date-Time API (JSR 310)æ¥è¿›ä¸€æ­¥åŠ å¼ºå¯¹æ—¥æœŸä¸æ—¶é—´çš„å¤„ç†ã€‚</p>

<ul>
    <li><p>Local(æœ¬åœ°) âˆ’ ç®€åŒ–äº†æ—¥æœŸæ—¶é—´çš„å¤„ç†ï¼Œæ²¡æœ‰æ—¶åŒºçš„é—®é¢˜ã€‚</p></li>
    <li><p>Zoned(æ—¶åŒº) âˆ’ é€šè¿‡åˆ¶å®šçš„æ—¶åŒºå¤„ç†æ—¥æœŸæ—¶é—´ã€‚</p></li>
</ul>

<blockquote>
    <p>(è¿™é‡Œåªä»‹ç»ä¸€ä¸‹Local,Zonedå¯ä»¥ç™¾åº¦è‡ªå·±äº†è§£ä¸‹)</p>
</blockquote>

<p>```java
    import java.time.LocalDate;
    import java.time.LocalTime;
    import java.time.LocalDateTime;
    import java.time.Month;</p>

<p>public class Java8Tester {
    public static void main(String args[]){
    Java8Tester java8tester = new Java8Tester();
    java8tester.testLocalDateTime();
    }</p>

<p>public void testLocalDateTime(){
    // è·å–å½“å‰çš„æ—¥æœŸæ—¶é—´
    LocalDateTime currentTime = LocalDateTime.now();
    System.out.println("å½“å‰æ—¶é—´: " + currentTime);</p>

<pre><code>  LocalDate date1 = currentTime.toLocalDate();
  System.out.println("date1: " + date1);

  Month month = currentTime.getMonth();
  int day = currentTime.getDayOfMonth();
  int seconds = currentTime.getSecond();

  System.out.println("æœˆ: " + month +", æ—¥: " + day +", ç§’: " + seconds);

  LocalDateTime date2 = currentTime.withDayOfMonth(10).withYear(2012);
  System.out.println("date2: " + date2);

  // 12 december 2014
  LocalDate date3 = LocalDate.of(2014, Month.DECEMBER, 12);
  System.out.println("date3: " + date3);

  // 22 å°æ—¶ 15 åˆ†é’Ÿ
  LocalTime date4 = LocalTime.of(22, 15);
  System.out.println("date4: " + date4);

  // è§£æå­—ç¬¦ä¸²
  LocalTime date5 = LocalTime.parse("20:15:30");
  System.out.println("date5: " + date5);
</code></pre>

<p>}
    }
    ```</p>

<p>è¾“å‡ºç»“æœä¸ºï¼š</p>

<p><code>java
    å½“å‰æ—¶é—´: 2019-07-18T17:32:24.277
    date1: 2019-07-18
    æœˆ: JULY, æ—¥: 18, ç§’: 24
    date2: 2012-07-10T17:32:24.277
    date3: 2014-12-12
    date4: 22:15
    date5: 20:15:30
</code>
    å€Ÿé‰´:
    - <a href="https://www.runoob.com/java/java8-datetime-api.html">èœé¸Ÿæ•™ç¨‹</a>
    - <a href="https://juejin.im/post/5b3ceef45188251b3c3b0440">ZGYSYYçš„java8æ–°ç‰¹æ€§å­¦ä¹ ç¬”è®°</a></p>
<div>
    <iframe src="component/Footer.html" class="footer"></iframe>
</div>
</body>
</html>